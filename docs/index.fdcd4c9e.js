const k=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const c of e.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerpolicy&&(e.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?e.credentials="include":n.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(n){if(n.ep)return;n.ep=!0;const e=r(n);fetch(n.href,e)}};k();const f=(o,t)=>{t.forEach(r=>o.appendChild(r))},u=o=>{o.forEach(t=>{var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)})},m=(o,t="div",r="")=>Array(o).fill(0).map(()=>{const a=document.createElement(t);return a.className=r,a}),$="stage1",g=document.querySelector(`#${$}`),I=document.querySelector(`#${$} .center`),N=document.querySelector(`#${$} .star`),U=async()=>{await N.animate([{transform:"scale(1)"},{transform:"scale(0.6)"}],{duration:150}).finished,N.animate([{transform:"scale(0.6)"},{transform:"scale(1)"}],{duration:500,easing:"ease-out"})},B=async()=>{await U();const o=10,t=m(o,"div","dot");f(I,t);const r=t.map((a,n)=>{const e=360/o*n;return a.animate([{transform:`rotate(${e}deg) translateX(0px)`,opacity:1},{transform:`rotate(${e}deg) translateX(100px)`,opacity:1,offset:.8},{transform:`rotate(${e}deg) translateX(100px)`,opacity:0}],{duration:500})});await Promise.all(r.map(a=>a.finished)),u(t)};g==null||g.addEventListener("click",B);const M="stage2",S=document.querySelector(`#${M}`),D=document.querySelector(`#${M} .center`),O=document.querySelector(`#${M} .star`),G=async()=>{await O.animate([{transform:"scale(1)"},{transform:"scale(0.6)"}],{duration:150}).finished,O.animate([{transform:"scale(0.6)"},{transform:"scale(1)"}],{duration:500,easing:"ease-out"})},z=async()=>{await G();const t=m(40,"div","dot");f(D,t);const r=t.map(a=>{const n=360*Math.random(),e=100+50*Math.random(),c=.5+Math.random()*2,s=30+Math.random()*25;return a.style.backgroundColor=`hsl(${s}, 90%, 60%)`,a.animate([{transform:`rotate(${n}deg) translateX(0px) scale(${c})`,opacity:1},{transform:`rotate(${n}deg) translateX(${e}px) scale(${c})`,opacity:1,offset:.8},{transform:`rotate(${n}deg) translateX(${e}px) scale(${c})`,opacity:0}],{duration:700*Math.random()})});await Promise.all(r.map(a=>a.finished)),u(t)};S==null||S.addEventListener("click",z);const w="stage3",x=document.querySelector(`#${w}`),R=document.querySelector(`#${w} .center`),P=document.querySelector(`#${w} .star`),F=async()=>{await P.animate([{transform:"scale(1)"},{transform:"scale(0.6)"}],{duration:150}).finished,P.animate([{transform:"scale(0.6)",filter:"blur(0)"},{transform:"scale(1.4)",filter:"blur(6px)",offset:.3},{transform:"scale(1)",filter:"blur(0)"}],{duration:1500,easing:"ease-out"})},H=async()=>{await F();const t=m(60,"div","dot");f(R,t);const r=t.map(a=>{const n=360*Math.random(),e=100+50*Math.random(),c=.5+Math.random()*2,s=30+Math.random()*25;a.style.backgroundColor=`hsl(${s}, 90%, 60%)`;const d=Math.random()>.5,i=Math.random()>.5;return d&&(a.style.mixBlendMode="add"),i&&(a.style.filter=`blur(${Math.random()*20}px)`),a.animate([{transform:`rotate(${n}deg) translateX(0px) scale(${c})`,opacity:.8},{transform:`rotate(${n}deg) translateX(${e*.8}px) scale(${c})`,opacity:.8,offset:.8},{transform:`rotate(${n}deg) translateX(${e}px) scale(${c})`,opacity:0}],{duration:2e3*Math.random(),fill:"forwards"})});await Promise.all(r.map(a=>a.finished)),u(t)};x==null||x.addEventListener("click",H);const b="stage4",C=document.querySelector(`#${b}`),K=document.querySelector(`#${b} .center`),E=document.querySelector(`#${b} .star`),W=async()=>{await E.animate([{transform:"scale(1)"},{transform:"scale(0.6)"}],{duration:150}).finished,E.animate([{transform:"scale(0.6)"},{transform:"scale(1)"}],{duration:500,easing:"ease-out"})},j=async()=>{await W();const o=8,t=m(o,"div","dot"),r=m(o,"div","wrapper");r.forEach((e,c)=>e.appendChild(t[c])),f(K,r);const a=r.map((e,c)=>{const s=360/o*c,d=80,i=2+Math.random()*4,p=Math.random()*600;return e.animate([{transform:`
            rotate(${s}deg)
            translateX(0px)
            scaleX(1)`,opacity:1,easing:"ease-out"},{transform:`
            rotate(${s}deg)
            translateX(${d*.9}px)
            scaleX(${i})`,opacity:1,offset:.6,easing:"ease-in"},{transform:`
            rotate(${s}deg)
            translateX(${d}px)
            scaleX(1)`,opacity:1}],{duration:500,delay:p,fill:"forwards"})});await Promise.all(a.map(e=>e.finished));const n=t.map(e=>e.animate([{transform:"scale(1)",easing:"ease-out"},{transform:"translateX(-20px) scale(1.5)",offset:.8},{transform:"translateX(30px) scale(0)"}],{duration:500}));E.animate([{transform:"scale(1)"},{transform:"scale(0.6)",offset:.7},{transform:"scale(1)"}],{duration:500,easing:"ease-out"}),await Promise.all(n.map(e=>e.finished)),u(r)};C==null||C.addEventListener("click",j);const X="stage5",v=document.querySelector(`#${X}`),J=document.querySelector(`#${X} .center`),A=document.querySelector(`#${X} .star`),Q=()=>{const o=["gold","#f7e486","#fff9d9","#ff792b"],t=[.6,.8,.9,1],r=Math.random(),a=t.findIndex(n=>n>r);return o[a]},q=(o,t)=>{const r=[...o].map(a=>({order:Math.random(),item:a})).sort((a,n)=>a.order-n.order).map(a=>a.item);return r.length=t,r},V=async()=>{await A.animate([{transform:"scale(1)"},{transform:"scale(0.6)"}],{duration:150}).finished,A.animate([{transform:"scale(0.6)"},{transform:"scale(1.4)",offset:.3},{transform:"scale(1)"}],{duration:700,easing:"ease-out"})},Y=async()=>{await V();const o=20,t=m(o,"div","dot");f(J,t);const r=q(t,Math.round(o*.2)),a=q(t,Math.round(o*.2)),n=q(t,Math.round(o*.3)),e=t.map((s,d)=>{const i=360/o*d,p=(Math.random()*Math.random())**1.5*(Math.random()<.5?-1:1),h=100+p*60,y=r.includes(s)?2+Math.random()*2:.5+Math.random(),T=Q();return a.includes(s)?(s.style.border=`1px solid ${T}`,s.style.background="transparent"):s.style.background=T,s.animate([{transform:`rotate(${i}deg) translateX(0px) scale(${y})`,opacity:1},{transform:`rotate(${i}deg) translateX(${h*1.3}px) scale(${y*1.2})`,opacity:1,offset:.7,easing:"cubic-bezier(.12,.73,.42,1)"},{transform:`rotate(${i}deg) translateX(${h}px) scale(${y})`,opacity:1}],{duration:h*3,delay:200*Math.random(),fill:"forwards"})});await Promise.all(e.map(s=>s.finished)),e.forEach(s=>s.commitStyles());const c=t.map((s,d)=>{const i=n.includes(s);return e[d].commitStyles(),s.animate([{opacity:1,filter:"brightness(1)"},{opacity:0,filter:"brightness(3)"}],{duration:i?500+Math.random()*500:200,delay:Math.random()*300,fill:"both"})});await Promise.all(c.map(s=>s.finished))};v==null||v.addEventListener("click",Y);const l=document.getElementById("randomStage"),L=()=>l?(l.innerHTML="",m(12,"div","dot").forEach(r=>{r.style.left=Math.random()*100+"%",r.style.top=Math.random()*100+"%",l==null||l.appendChild(r)}),l):void 0;L();l==null||l.addEventListener("click",L);
